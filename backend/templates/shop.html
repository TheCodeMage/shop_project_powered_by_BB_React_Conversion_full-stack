{% extends 'base.html' %}
<!-- {% load static %} -->

{% block title %}Shop - Online Shop{% endblock %}

{% block content %}
<h1 class="shop-title">Browse Products</h1>

<!-- ðŸ” Search Bar -->
<div class="search-container">
    <input type="text" id="searchInput" placeholder="Search products...">
</div>

<!-- Category Filter -->
<div class="category-filter">
    <a href="{% url 'shop' %}">All</a>
    {% for cat in categories %}
    <a href="{% url 'shop' %}?category={{ cat.id }}">{{ cat.name }}</a>
    {% endfor %}
</div>

{% if messages %}
<div class="messages">
    {% for message in messages %}
    <div class="alert alert-{{ message.tags }}">
        {{ message }}
    </div>
    {% endfor %}
</div>
{% endif %}


<!-- ðŸ› Product Grid -->
<div class="product-grid" id="productGrid">
    {% for product in products %}
    <div class="product-card" data-name="{{ product.name|lower }}">
        <a href="{% url 'product_detail' product.id %}" class="product-card-link">
            <img src="{{ product.image.url }}" alt="{{ product.name }}">
            <h2>{{ product.name }}</h2>
            <p>MMK{{ product.price }}</p>
        </a>
        {% if user.is_authenticated %}
        <a href="{% url 'add_to_cart' product.id %}"
            style="display: inline-block; padding: 8px 16px; background-color: #007bff; color: white; text-decoration: none; border-radius: 3px;">Add
            to Cart</a>
        {% else %}
        <a href="{% url 'login' %}"
            style="display: inline-block; padding: 8px 16px; background-color: #28a745; color: white; text-decoration: none; border-radius: 3px;">Login
            to Add</a>
        {% endif %}
    </div>
    {% endfor %}
</div>
{% endblock %}